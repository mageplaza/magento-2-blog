<?php
$posts = $block->getMosviewPosts();
$postsRecent = $block->getRecentPost();
?>
<div class="mp-sidebar mpcss">
		<ul class="nav nav-tabs">
			<li id="tab-1" class="active"><a id="popular-tab"><?php echo __('Popular') ?></a></li>
			<li id="tab-2"><a id="recent-tab"><?php echo __('Recent') ?></a></li>
		</ul>
		
		<div class="tab-content">
			<div id="mostview">
				<?php if ($posts->getSize()): ?>
					<?php foreach ($posts as $post): ?>
						<a class="list-post-tabs" href="<?php echo $block->getUrlByPost($post) ?>">
							<div class="post-left">
								<img class="img-responsive" src="<?php echo $block->getImageUrl($post->getImage())?>">
							</div>
							<div class="post-right">
								<span><?php echo $post->getName() ?></span>
								<span class="create-at">
									<?php $objectManager = \Magento\Framework\App\ObjectManager::getInstance();
									$object = $objectManager->get('\Magento\Framework\Stdlib\DateTime\DateTime');
									$dateFormat = date('Y-m-d',$object->timestamp($post->getCreatedAt()));
									echo $dateFormat;
									?>
								</span>
							</div>
						</a>
					<?php endforeach; ?>
	
				<?php else: ?>
					<?php echo __('<div style="'.'height: 50px;line-height: 50px;text-align: center;'.'">No Posts</div>') ?>
				<?php endif; ?>
			</div>
			<div id="mostrecent" style="display:none">
				<?php if ($postsRecent->getSize()): ?>
					<?php foreach ($postsRecent as $post): ?>
						<a class="list-post-tabs" href="<?php echo $block->getUrlByPost($post) ?>">
							<div class="post-left">
								<img class="img-responsive" src="<?php echo $block->getImageUrl($post->getImage())?>">
							</div>
							<div class="post-right">
								<span><?php echo $post->getName() ?></span>
								<span class="create-at">
									<?php echo $post->getFormatCreatedAt(); ?>
								</span>
							</div>
						</a>
	
					<?php endforeach; ?>
	
				<?php else: ?>
					<?php echo __('<div style="'.'height: 50px;line-height: 50px;text-align: center;'.'">No Posts</div>') ?>
				<?php endif; ?>
			</div>
		</div>
</div>
<script>
	jQuery.noConflict();

	jQuery(document).ready(function(){
		jQuery("#popular-tab").click(function(){
			jQuery("#tab-1").addClass('active');
			jQuery("#tab-2").removeClass('active');
			jQuery('#mostview').show();
			jQuery('#mostrecent').hide();
		});
		jQuery("#recent-tab").click(function(){
			jQuery("#tab-1").removeClass('active');
			jQuery("#tab-2").addClass('active');
			jQuery('#mostview').hide();
			jQuery('#mostrecent').show();
		});
	});
</script>